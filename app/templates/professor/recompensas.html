{% extends "base.html" %}
{% block title %}Recompensas{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <div class="page-title glow-text mb-0">
    <i class="bi bi-gift-fill"></i> RECOMPENSAS DA LOJA
  </div>
  <a href="{{ url_for('professor.criar_recompensa') }}" class="btn btn-accent">
    <i class="bi bi-plus-circle-fill"></i> Nova Recompensa
  </a>
</div>

{% if recompensas %}
<div class="row g-3">
  {% set nivel_nomes = {1:'Explorador', 2:'Programador', 3:'Maker', 4:'Engenheiro', 5:'Mentor'} %}
  {% for r in recompensas %}
  <div class="col-12 col-sm-6 col-lg-4">
    <div class="card h-100">
      <div class="card-body p-3">
        <h6 style="font-family:'Orbitron',sans-serif; color:var(--accent); font-size:0.9rem;">
          üéÅ {{ r.nome }}
        </h6>
        {% if r.descricao %}
        <p style="color:var(--text-muted); font-size:0.85rem; margin-bottom:0.75rem;">
          {{ r.descricao }}
        </p>
        {% endif %}
        <div class="d-flex gap-2 flex-wrap">
          <span class="tc-badge"><i class="bi bi-coin"></i> {{ r.custo_teccoins }} TecCoins</span>
          <span class="badge-nivel nivel-{{ nivel_nomes.get(r.nivel_minimo, 'Explorador') }}">
            N√≠vel: {{ nivel_nomes.get(r.nivel_minimo, '?') }}
          </span>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="card">
  <div class="card-body text-center py-5" style="color:var(--text-muted);">
    <i class="bi bi-gift" style="font-size:3rem; color:var(--accent2);"></i>
    <p class="mt-2">Nenhuma recompensa cadastrada.</p>
    <a href="{{ url_for('professor.criar_recompensa') }}" class="btn btn-accent">
      Criar recompensa
    </a>
  </div>
</div>
{% endif %}
{% endblock %}
