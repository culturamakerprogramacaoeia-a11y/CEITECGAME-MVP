{% extends "base.html" %}
{% block title %}Ranking da Turma{% endblock %}

{% block content %}
<div class="page-title glow-text">
  <i class="bi bi-bar-chart-fill"></i> RANKING DA TURMA
</div>

{% if ranking %}
<div class="card">
  <div class="card-body p-0">
    <table class="table-dark-custom w-100">
      <thead>
        <tr>
          <th>#</th>
          <th>ALUNO</th>
          <th>NÃVEL</th>
          <th>XP</th>
          <th>TECCOINS</th>
        </tr>
      </thead>
      <tbody>
        {% for a in ranking %}
        <tr {% if a.id == current_user.id %}style="background:rgba(0,255,136,0.07);"{% endif %}>
          <td style="text-align:center; font-family:'Orbitron',sans-serif;">
            {% if loop.index == 1 %}<span class="rank-1">ğŸ¥‡</span>
            {% elif loop.index == 2 %}<span class="rank-2">ğŸ¥ˆ</span>
            {% elif loop.index == 3 %}<span class="rank-3">ğŸ¥‰</span>
            {% else %}<span style="color:var(--text-muted);">{{ loop.index }}</span>
            {% endif %}
          </td>
          <td>
            <strong>{{ a.nome }}</strong>
            {% if a.id == current_user.id %}
            <span style="color:var(--accent); font-size:0.75rem;"> â† vocÃª</span>
            {% endif %}
          </td>
          <td><span class="badge-nivel nivel-{{ a.nivel }}">{{ a.nivel }}</span></td>
          <td><span class="xp-badge">âš¡ {{ a.xp_total }}</span></td>
          <td><span class="tc-badge">ğŸª™ {{ a.teccoins_total }}</span></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% else %}
<div class="card">
  <div class="card-body text-center py-5" style="color:var(--text-muted);">
    <i class="bi bi-bar-chart" style="font-size:3rem; color:var(--accent2);"></i>
    <p class="mt-2">Nenhum dado de ranking disponÃ­vel.</p>
  </div>
</div>
{% endif %}
{% endblock %}
